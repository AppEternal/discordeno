export function transformInviteStageInstance(bot, payload, extra) {
  const props = bot.transformers.desiredProperties.inviteStageInstance
  const inviteStageInstance = {}
  if (props.members && payload.members) {
    inviteStageInstance.members = payload.members.map(
      (
        member, // @ts-expect-error TODO: Partials
      ) =>
        bot.transformers.member(bot, member, {
          guildId: extra?.guildId,
          userId: member.user?.id,
        }),
    )
  }
  if (props.participantCount) inviteStageInstance.participantCount = payload.participant_count
  if (props.speakerCount) inviteStageInstance.participantCount = payload.participant_count
  if (props.topic && payload.topic) inviteStageInstance.topic = payload.topic
  return bot.transformers.customizers.inviteStageInstance(bot, payload, inviteStageInstance, {
    guildId: extra?.guildId ? bot.transformers.snowflake(extra.guildId) : undefined,
  })
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy90cmFuc2Zvcm1lcnMvc3RhZ2VJbnZpdGVJbnN0YW5jZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgdHlwZSB7IEJpZ1N0cmluZywgRGlzY29yZEludml0ZVN0YWdlSW5zdGFuY2UgfSBmcm9tICdAZGlzY29yZGVuby90eXBlcydcbmltcG9ydCB0eXBlIHsgQm90IH0gZnJvbSAnLi4vYm90LmpzJ1xuaW1wb3J0IHR5cGUgeyBEZXNpcmVkUHJvcGVydGllc0JlaGF2aW9yLCBTZXR1cERlc2lyZWRQcm9wcywgVHJhbnNmb3JtZXJzRGVzaXJlZFByb3BlcnRpZXMgfSBmcm9tICcuLi9kZXNpcmVkUHJvcGVydGllcy5qcydcbmltcG9ydCB0eXBlIHsgSW52aXRlU3RhZ2VJbnN0YW5jZSB9IGZyb20gJy4vdHlwZXMuanMnXG5cbmV4cG9ydCBmdW5jdGlvbiB0cmFuc2Zvcm1JbnZpdGVTdGFnZUluc3RhbmNlKGJvdDogQm90LCBwYXlsb2FkOiBEaXNjb3JkSW52aXRlU3RhZ2VJbnN0YW5jZSwgZXh0cmE/OiB7IGd1aWxkSWQ/OiBCaWdTdHJpbmcgfSk6IEludml0ZVN0YWdlSW5zdGFuY2Uge1xuICBjb25zdCBwcm9wcyA9IGJvdC50cmFuc2Zvcm1lcnMuZGVzaXJlZFByb3BlcnRpZXMuaW52aXRlU3RhZ2VJbnN0YW5jZVxuICBjb25zdCBpbnZpdGVTdGFnZUluc3RhbmNlID0ge30gYXMgU2V0dXBEZXNpcmVkUHJvcHM8SW52aXRlU3RhZ2VJbnN0YW5jZSwgVHJhbnNmb3JtZXJzRGVzaXJlZFByb3BlcnRpZXMsIERlc2lyZWRQcm9wZXJ0aWVzQmVoYXZpb3I+XG5cbiAgaWYgKHByb3BzLm1lbWJlcnMgJiYgcGF5bG9hZC5tZW1iZXJzKSB7XG4gICAgaW52aXRlU3RhZ2VJbnN0YW5jZS5tZW1iZXJzID0gcGF5bG9hZC5tZW1iZXJzLm1hcCgobWVtYmVyKSA9PlxuICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciBUT0RPOiBQYXJ0aWFsc1xuICAgICAgYm90LnRyYW5zZm9ybWVycy5tZW1iZXIoYm90LCBtZW1iZXIsIHtcbiAgICAgICAgZ3VpbGRJZDogZXh0cmE/Lmd1aWxkSWQsXG4gICAgICAgIHVzZXJJZDogbWVtYmVyLnVzZXI/LmlkLFxuICAgICAgfSksXG4gICAgKVxuICB9XG4gIGlmIChwcm9wcy5wYXJ0aWNpcGFudENvdW50KSBpbnZpdGVTdGFnZUluc3RhbmNlLnBhcnRpY2lwYW50Q291bnQgPSBwYXlsb2FkLnBhcnRpY2lwYW50X2NvdW50XG4gIGlmIChwcm9wcy5zcGVha2VyQ291bnQpIGludml0ZVN0YWdlSW5zdGFuY2UucGFydGljaXBhbnRDb3VudCA9IHBheWxvYWQucGFydGljaXBhbnRfY291bnRcbiAgaWYgKHByb3BzLnRvcGljICYmIHBheWxvYWQudG9waWMpIGludml0ZVN0YWdlSW5zdGFuY2UudG9waWMgPSBwYXlsb2FkLnRvcGljXG5cbiAgcmV0dXJuIGJvdC50cmFuc2Zvcm1lcnMuY3VzdG9taXplcnMuaW52aXRlU3RhZ2VJbnN0YW5jZShib3QsIHBheWxvYWQsIGludml0ZVN0YWdlSW5zdGFuY2UsIHtcbiAgICBndWlsZElkOiBleHRyYT8uZ3VpbGRJZCA/IGJvdC50cmFuc2Zvcm1lcnMuc25vd2ZsYWtlKGV4dHJhLmd1aWxkSWQpIDogdW5kZWZpbmVkLFxuICB9KVxufVxuIl0sIm5hbWVzIjpbInRyYW5zZm9ybUludml0ZVN0YWdlSW5zdGFuY2UiLCJib3QiLCJwYXlsb2FkIiwiZXh0cmEiLCJwcm9wcyIsInRyYW5zZm9ybWVycyIsImRlc2lyZWRQcm9wZXJ0aWVzIiwiaW52aXRlU3RhZ2VJbnN0YW5jZSIsIm1lbWJlcnMiLCJtYXAiLCJtZW1iZXIiLCJndWlsZElkIiwidXNlcklkIiwidXNlciIsImlkIiwicGFydGljaXBhbnRDb3VudCIsInBhcnRpY2lwYW50X2NvdW50Iiwic3BlYWtlckNvdW50IiwidG9waWMiLCJjdXN0b21pemVycyIsInNub3dmbGFrZSIsInVuZGVmaW5lZCJdLCJtYXBwaW5ncyI6IkFBS0EsT0FBTyxTQUFTQSw2QkFBNkJDLEdBQVEsRUFBRUMsT0FBbUMsRUFBRUMsS0FBK0I7SUFDekgsTUFBTUMsUUFBUUgsSUFBSUksWUFBWSxDQUFDQyxpQkFBaUIsQ0FBQ0MsbUJBQW1CO0lBQ3BFLE1BQU1BLHNCQUFzQixDQUFDO0lBRTdCLElBQUlILE1BQU1JLE9BQU8sSUFBSU4sUUFBUU0sT0FBTyxFQUFFO1FBQ3BDRCxvQkFBb0JDLE9BQU8sR0FBR04sUUFBUU0sT0FBTyxDQUFDQyxHQUFHLENBQUMsQ0FBQ0MsU0FDakQsa0NBQWtDO1lBQ2xDVCxJQUFJSSxZQUFZLENBQUNLLE1BQU0sQ0FBQ1QsS0FBS1MsUUFBUTtnQkFDbkNDLFNBQVNSLE9BQU9RO2dCQUNoQkMsUUFBUUYsT0FBT0csSUFBSSxFQUFFQztZQUN2QjtJQUVKO0lBQ0EsSUFBSVYsTUFBTVcsZ0JBQWdCLEVBQUVSLG9CQUFvQlEsZ0JBQWdCLEdBQUdiLFFBQVFjLGlCQUFpQjtJQUM1RixJQUFJWixNQUFNYSxZQUFZLEVBQUVWLG9CQUFvQlEsZ0JBQWdCLEdBQUdiLFFBQVFjLGlCQUFpQjtJQUN4RixJQUFJWixNQUFNYyxLQUFLLElBQUloQixRQUFRZ0IsS0FBSyxFQUFFWCxvQkFBb0JXLEtBQUssR0FBR2hCLFFBQVFnQixLQUFLO0lBRTNFLE9BQU9qQixJQUFJSSxZQUFZLENBQUNjLFdBQVcsQ0FBQ1osbUJBQW1CLENBQUNOLEtBQUtDLFNBQVNLLHFCQUFxQjtRQUN6RkksU0FBU1IsT0FBT1EsVUFBVVYsSUFBSUksWUFBWSxDQUFDZSxTQUFTLENBQUNqQixNQUFNUSxPQUFPLElBQUlVO0lBQ3hFO0FBQ0YifQ==
