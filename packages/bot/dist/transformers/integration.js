import { iconHashToBigInt } from '@discordeno/utils';
export function transformIntegration(bot, payload) {
    const integration = {
        guildId: bot.transformers.snowflake(payload.guild_id),
        id: bot.transformers.snowflake(payload.id),
        name: payload.name,
        type: payload.type,
        enabled: payload.enabled,
        syncing: payload.syncing,
        roleId: payload.role_id ? bot.transformers.snowflake(payload.role_id) : undefined,
        enableEmoticons: payload.enable_emoticons,
        expireBehavior: payload.expire_behavior,
        expireGracePeriod: payload.expire_grace_period,
        user: payload.user ? bot.transformers.user(bot, payload.user) : undefined,
        account: {
            id: bot.transformers.snowflake(payload.account.id),
            name: payload.account.name
        },
        syncedAt: payload.synced_at ? Date.parse(payload.synced_at) : undefined,
        subscriberCount: payload.subscriber_count,
        revoked: payload.revoked,
        application: payload.application ? {
            id: bot.transformers.snowflake(payload.application.id),
            name: payload.application.name,
            icon: payload.application.icon ? iconHashToBigInt(payload.application.icon) : undefined,
            description: payload.application.description,
            bot: payload.application.bot ? bot.transformers.user(bot, payload.application.bot) : undefined
        } : undefined,
        scopes: payload.scopes
    };
    return bot.transformers.customizers.integration(bot, payload, integration);
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy90cmFuc2Zvcm1lcnMvaW50ZWdyYXRpb24udHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHR5cGUgeyBEaXNjb3JkSW50ZWdyYXRpb25DcmVhdGVVcGRhdGUgfSBmcm9tICdAZGlzY29yZGVuby90eXBlcydcbmltcG9ydCB7IGljb25IYXNoVG9CaWdJbnQgfSBmcm9tICdAZGlzY29yZGVuby91dGlscydcbmltcG9ydCB0eXBlIHsgQm90IH0gZnJvbSAnLi4vYm90LmpzJ1xuaW1wb3J0IHR5cGUgeyBJbnRlZ3JhdGlvbiB9IGZyb20gJy4vdHlwZXMuanMnXG5cbmV4cG9ydCBmdW5jdGlvbiB0cmFuc2Zvcm1JbnRlZ3JhdGlvbihib3Q6IEJvdCwgcGF5bG9hZDogRGlzY29yZEludGVncmF0aW9uQ3JlYXRlVXBkYXRlKTogSW50ZWdyYXRpb24ge1xuICBjb25zdCBpbnRlZ3JhdGlvbiA9IHtcbiAgICBndWlsZElkOiBib3QudHJhbnNmb3JtZXJzLnNub3dmbGFrZShwYXlsb2FkLmd1aWxkX2lkKSxcbiAgICBpZDogYm90LnRyYW5zZm9ybWVycy5zbm93Zmxha2UocGF5bG9hZC5pZCksXG4gICAgbmFtZTogcGF5bG9hZC5uYW1lLFxuICAgIHR5cGU6IHBheWxvYWQudHlwZSxcbiAgICBlbmFibGVkOiBwYXlsb2FkLmVuYWJsZWQsXG4gICAgc3luY2luZzogcGF5bG9hZC5zeW5jaW5nLFxuICAgIHJvbGVJZDogcGF5bG9hZC5yb2xlX2lkID8gYm90LnRyYW5zZm9ybWVycy5zbm93Zmxha2UocGF5bG9hZC5yb2xlX2lkKSA6IHVuZGVmaW5lZCxcbiAgICBlbmFibGVFbW90aWNvbnM6IHBheWxvYWQuZW5hYmxlX2Vtb3RpY29ucyxcbiAgICBleHBpcmVCZWhhdmlvcjogcGF5bG9hZC5leHBpcmVfYmVoYXZpb3IsXG4gICAgZXhwaXJlR3JhY2VQZXJpb2Q6IHBheWxvYWQuZXhwaXJlX2dyYWNlX3BlcmlvZCxcbiAgICB1c2VyOiBwYXlsb2FkLnVzZXIgPyBib3QudHJhbnNmb3JtZXJzLnVzZXIoYm90LCBwYXlsb2FkLnVzZXIpIDogdW5kZWZpbmVkLFxuICAgIGFjY291bnQ6IHtcbiAgICAgIGlkOiBib3QudHJhbnNmb3JtZXJzLnNub3dmbGFrZShwYXlsb2FkLmFjY291bnQuaWQpLFxuICAgICAgbmFtZTogcGF5bG9hZC5hY2NvdW50Lm5hbWUsXG4gICAgfSxcbiAgICBzeW5jZWRBdDogcGF5bG9hZC5zeW5jZWRfYXQgPyBEYXRlLnBhcnNlKHBheWxvYWQuc3luY2VkX2F0KSA6IHVuZGVmaW5lZCxcbiAgICBzdWJzY3JpYmVyQ291bnQ6IHBheWxvYWQuc3Vic2NyaWJlcl9jb3VudCxcbiAgICByZXZva2VkOiBwYXlsb2FkLnJldm9rZWQsXG4gICAgYXBwbGljYXRpb246IHBheWxvYWQuYXBwbGljYXRpb25cbiAgICAgID8ge1xuICAgICAgICAgIGlkOiBib3QudHJhbnNmb3JtZXJzLnNub3dmbGFrZShwYXlsb2FkLmFwcGxpY2F0aW9uLmlkKSxcbiAgICAgICAgICBuYW1lOiBwYXlsb2FkLmFwcGxpY2F0aW9uLm5hbWUsXG4gICAgICAgICAgaWNvbjogcGF5bG9hZC5hcHBsaWNhdGlvbi5pY29uID8gaWNvbkhhc2hUb0JpZ0ludChwYXlsb2FkLmFwcGxpY2F0aW9uLmljb24pIDogdW5kZWZpbmVkLFxuICAgICAgICAgIGRlc2NyaXB0aW9uOiBwYXlsb2FkLmFwcGxpY2F0aW9uLmRlc2NyaXB0aW9uLFxuICAgICAgICAgIGJvdDogcGF5bG9hZC5hcHBsaWNhdGlvbi5ib3QgPyBib3QudHJhbnNmb3JtZXJzLnVzZXIoYm90LCBwYXlsb2FkLmFwcGxpY2F0aW9uLmJvdCkgOiB1bmRlZmluZWQsXG4gICAgICAgIH1cbiAgICAgIDogdW5kZWZpbmVkLFxuICAgIHNjb3BlczogcGF5bG9hZC5zY29wZXMsXG4gIH0gYXMgSW50ZWdyYXRpb25cblxuICByZXR1cm4gYm90LnRyYW5zZm9ybWVycy5jdXN0b21pemVycy5pbnRlZ3JhdGlvbihib3QsIHBheWxvYWQsIGludGVncmF0aW9uKVxufVxuIl0sIm5hbWVzIjpbImljb25IYXNoVG9CaWdJbnQiLCJ0cmFuc2Zvcm1JbnRlZ3JhdGlvbiIsImJvdCIsInBheWxvYWQiLCJpbnRlZ3JhdGlvbiIsImd1aWxkSWQiLCJ0cmFuc2Zvcm1lcnMiLCJzbm93Zmxha2UiLCJndWlsZF9pZCIsImlkIiwibmFtZSIsInR5cGUiLCJlbmFibGVkIiwic3luY2luZyIsInJvbGVJZCIsInJvbGVfaWQiLCJ1bmRlZmluZWQiLCJlbmFibGVFbW90aWNvbnMiLCJlbmFibGVfZW1vdGljb25zIiwiZXhwaXJlQmVoYXZpb3IiLCJleHBpcmVfYmVoYXZpb3IiLCJleHBpcmVHcmFjZVBlcmlvZCIsImV4cGlyZV9ncmFjZV9wZXJpb2QiLCJ1c2VyIiwiYWNjb3VudCIsInN5bmNlZEF0Iiwic3luY2VkX2F0IiwiRGF0ZSIsInBhcnNlIiwic3Vic2NyaWJlckNvdW50Iiwic3Vic2NyaWJlcl9jb3VudCIsInJldm9rZWQiLCJhcHBsaWNhdGlvbiIsImljb24iLCJkZXNjcmlwdGlvbiIsInNjb3BlcyIsImN1c3RvbWl6ZXJzIl0sIm1hcHBpbmdzIjoiQUFDQSxTQUFTQSxnQkFBZ0IsUUFBUSxvQkFBbUI7QUFJcEQsT0FBTyxTQUFTQyxxQkFBcUJDLEdBQVEsRUFBRUMsT0FBdUM7SUFDcEYsTUFBTUMsY0FBYztRQUNsQkMsU0FBU0gsSUFBSUksWUFBWSxDQUFDQyxTQUFTLENBQUNKLFFBQVFLLFFBQVE7UUFDcERDLElBQUlQLElBQUlJLFlBQVksQ0FBQ0MsU0FBUyxDQUFDSixRQUFRTSxFQUFFO1FBQ3pDQyxNQUFNUCxRQUFRTyxJQUFJO1FBQ2xCQyxNQUFNUixRQUFRUSxJQUFJO1FBQ2xCQyxTQUFTVCxRQUFRUyxPQUFPO1FBQ3hCQyxTQUFTVixRQUFRVSxPQUFPO1FBQ3hCQyxRQUFRWCxRQUFRWSxPQUFPLEdBQUdiLElBQUlJLFlBQVksQ0FBQ0MsU0FBUyxDQUFDSixRQUFRWSxPQUFPLElBQUlDO1FBQ3hFQyxpQkFBaUJkLFFBQVFlLGdCQUFnQjtRQUN6Q0MsZ0JBQWdCaEIsUUFBUWlCLGVBQWU7UUFDdkNDLG1CQUFtQmxCLFFBQVFtQixtQkFBbUI7UUFDOUNDLE1BQU1wQixRQUFRb0IsSUFBSSxHQUFHckIsSUFBSUksWUFBWSxDQUFDaUIsSUFBSSxDQUFDckIsS0FBS0MsUUFBUW9CLElBQUksSUFBSVA7UUFDaEVRLFNBQVM7WUFDUGYsSUFBSVAsSUFBSUksWUFBWSxDQUFDQyxTQUFTLENBQUNKLFFBQVFxQixPQUFPLENBQUNmLEVBQUU7WUFDakRDLE1BQU1QLFFBQVFxQixPQUFPLENBQUNkLElBQUk7UUFDNUI7UUFDQWUsVUFBVXRCLFFBQVF1QixTQUFTLEdBQUdDLEtBQUtDLEtBQUssQ0FBQ3pCLFFBQVF1QixTQUFTLElBQUlWO1FBQzlEYSxpQkFBaUIxQixRQUFRMkIsZ0JBQWdCO1FBQ3pDQyxTQUFTNUIsUUFBUTRCLE9BQU87UUFDeEJDLGFBQWE3QixRQUFRNkIsV0FBVyxHQUM1QjtZQUNFdkIsSUFBSVAsSUFBSUksWUFBWSxDQUFDQyxTQUFTLENBQUNKLFFBQVE2QixXQUFXLENBQUN2QixFQUFFO1lBQ3JEQyxNQUFNUCxRQUFRNkIsV0FBVyxDQUFDdEIsSUFBSTtZQUM5QnVCLE1BQU05QixRQUFRNkIsV0FBVyxDQUFDQyxJQUFJLEdBQUdqQyxpQkFBaUJHLFFBQVE2QixXQUFXLENBQUNDLElBQUksSUFBSWpCO1lBQzlFa0IsYUFBYS9CLFFBQVE2QixXQUFXLENBQUNFLFdBQVc7WUFDNUNoQyxLQUFLQyxRQUFRNkIsV0FBVyxDQUFDOUIsR0FBRyxHQUFHQSxJQUFJSSxZQUFZLENBQUNpQixJQUFJLENBQUNyQixLQUFLQyxRQUFRNkIsV0FBVyxDQUFDOUIsR0FBRyxJQUFJYztRQUN2RixJQUNBQTtRQUNKbUIsUUFBUWhDLFFBQVFnQyxNQUFNO0lBQ3hCO0lBRUEsT0FBT2pDLElBQUlJLFlBQVksQ0FBQzhCLFdBQVcsQ0FBQ2hDLFdBQVcsQ0FBQ0YsS0FBS0MsU0FBU0M7QUFDaEUifQ==