import { PresenceStatus } from '@discordeno/types'
export function transformPresence(bot, payload) {
  const presence = {}
  if (payload.user) presence.user = bot.transformers.user(bot, payload.user)
  if (payload.guild_id) presence.guildId = bot.transformers.snowflake(payload.guild_id)
  if (payload.status) presence.status = PresenceStatus[payload.status]
  if (payload.activities) presence.activities = payload.activities.map((activity) => bot.transformers.activity(bot, activity))
  if (payload.client_status.desktop) presence.desktop = payload.client_status.desktop
  if (payload.client_status.mobile) presence.mobile = payload.client_status.mobile
  if (payload.client_status.web) presence.web = payload.client_status.web
  return bot.transformers.customizers.presence(bot, payload, presence)
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy90cmFuc2Zvcm1lcnMvcHJlc2VuY2UudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdHlwZSBEaXNjb3JkUHJlc2VuY2VVcGRhdGUsIFByZXNlbmNlU3RhdHVzIH0gZnJvbSAnQGRpc2NvcmRlbm8vdHlwZXMnXG5pbXBvcnQgdHlwZSB7IEJvdCB9IGZyb20gJy4uL2JvdC5qcydcbmltcG9ydCB0eXBlIHsgUHJlc2VuY2VVcGRhdGUsIFVzZXIgfSBmcm9tICcuL3R5cGVzLmpzJ1xuXG5leHBvcnQgZnVuY3Rpb24gdHJhbnNmb3JtUHJlc2VuY2UoYm90OiBCb3QsIHBheWxvYWQ6IERpc2NvcmRQcmVzZW5jZVVwZGF0ZSk6IFByZXNlbmNlVXBkYXRlIHtcbiAgY29uc3QgcHJlc2VuY2UgPSB7fSBhcyBQcmVzZW5jZVVwZGF0ZVxuXG4gIGlmIChwYXlsb2FkLnVzZXIpIHByZXNlbmNlLnVzZXIgPSBib3QudHJhbnNmb3JtZXJzLnVzZXIoYm90LCBwYXlsb2FkLnVzZXIpIGFzIFVzZXJcbiAgaWYgKHBheWxvYWQuZ3VpbGRfaWQpIHByZXNlbmNlLmd1aWxkSWQgPSBib3QudHJhbnNmb3JtZXJzLnNub3dmbGFrZShwYXlsb2FkLmd1aWxkX2lkKVxuICBpZiAocGF5bG9hZC5zdGF0dXMpIHByZXNlbmNlLnN0YXR1cyA9IFByZXNlbmNlU3RhdHVzW3BheWxvYWQuc3RhdHVzXVxuICBpZiAocGF5bG9hZC5hY3Rpdml0aWVzKSBwcmVzZW5jZS5hY3Rpdml0aWVzID0gcGF5bG9hZC5hY3Rpdml0aWVzLm1hcCgoYWN0aXZpdHkpID0+IGJvdC50cmFuc2Zvcm1lcnMuYWN0aXZpdHkoYm90LCBhY3Rpdml0eSkpXG4gIGlmIChwYXlsb2FkLmNsaWVudF9zdGF0dXMuZGVza3RvcCkgcHJlc2VuY2UuZGVza3RvcCA9IHBheWxvYWQuY2xpZW50X3N0YXR1cy5kZXNrdG9wXG4gIGlmIChwYXlsb2FkLmNsaWVudF9zdGF0dXMubW9iaWxlKSBwcmVzZW5jZS5tb2JpbGUgPSBwYXlsb2FkLmNsaWVudF9zdGF0dXMubW9iaWxlXG4gIGlmIChwYXlsb2FkLmNsaWVudF9zdGF0dXMud2ViKSBwcmVzZW5jZS53ZWIgPSBwYXlsb2FkLmNsaWVudF9zdGF0dXMud2ViXG5cbiAgcmV0dXJuIGJvdC50cmFuc2Zvcm1lcnMuY3VzdG9taXplcnMucHJlc2VuY2UoYm90LCBwYXlsb2FkLCBwcmVzZW5jZSlcbn1cbiJdLCJuYW1lcyI6WyJQcmVzZW5jZVN0YXR1cyIsInRyYW5zZm9ybVByZXNlbmNlIiwiYm90IiwicGF5bG9hZCIsInByZXNlbmNlIiwidXNlciIsInRyYW5zZm9ybWVycyIsImd1aWxkX2lkIiwiZ3VpbGRJZCIsInNub3dmbGFrZSIsInN0YXR1cyIsImFjdGl2aXRpZXMiLCJtYXAiLCJhY3Rpdml0eSIsImNsaWVudF9zdGF0dXMiLCJkZXNrdG9wIiwibW9iaWxlIiwid2ViIiwiY3VzdG9taXplcnMiXSwibWFwcGluZ3MiOiJBQUFBLFNBQXFDQSxjQUFjLFFBQVEsb0JBQW1CO0FBSTlFLE9BQU8sU0FBU0Msa0JBQWtCQyxHQUFRLEVBQUVDLE9BQThCO0lBQ3hFLE1BQU1DLFdBQVcsQ0FBQztJQUVsQixJQUFJRCxRQUFRRSxJQUFJLEVBQUVELFNBQVNDLElBQUksR0FBR0gsSUFBSUksWUFBWSxDQUFDRCxJQUFJLENBQUNILEtBQUtDLFFBQVFFLElBQUk7SUFDekUsSUFBSUYsUUFBUUksUUFBUSxFQUFFSCxTQUFTSSxPQUFPLEdBQUdOLElBQUlJLFlBQVksQ0FBQ0csU0FBUyxDQUFDTixRQUFRSSxRQUFRO0lBQ3BGLElBQUlKLFFBQVFPLE1BQU0sRUFBRU4sU0FBU00sTUFBTSxHQUFHVixjQUFjLENBQUNHLFFBQVFPLE1BQU0sQ0FBQztJQUNwRSxJQUFJUCxRQUFRUSxVQUFVLEVBQUVQLFNBQVNPLFVBQVUsR0FBR1IsUUFBUVEsVUFBVSxDQUFDQyxHQUFHLENBQUMsQ0FBQ0MsV0FBYVgsSUFBSUksWUFBWSxDQUFDTyxRQUFRLENBQUNYLEtBQUtXO0lBQ2xILElBQUlWLFFBQVFXLGFBQWEsQ0FBQ0MsT0FBTyxFQUFFWCxTQUFTVyxPQUFPLEdBQUdaLFFBQVFXLGFBQWEsQ0FBQ0MsT0FBTztJQUNuRixJQUFJWixRQUFRVyxhQUFhLENBQUNFLE1BQU0sRUFBRVosU0FBU1ksTUFBTSxHQUFHYixRQUFRVyxhQUFhLENBQUNFLE1BQU07SUFDaEYsSUFBSWIsUUFBUVcsYUFBYSxDQUFDRyxHQUFHLEVBQUViLFNBQVNhLEdBQUcsR0FBR2QsUUFBUVcsYUFBYSxDQUFDRyxHQUFHO0lBRXZFLE9BQU9mLElBQUlJLFlBQVksQ0FBQ1ksV0FBVyxDQUFDZCxRQUFRLENBQUNGLEtBQUtDLFNBQVNDO0FBQzdEIn0=
