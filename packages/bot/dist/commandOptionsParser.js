import { ApplicationCommandOptionTypes } from '@discordeno/types'
export function commandOptionsParser(__interaction, options) {
  // This is necessary as typescript gets really confused when using __interaction alone, as it will say that 'data' does not exist despite it surely exist since we have the &
  const interaction = __interaction
  if (!interaction.data) return {}
  if (!options) options = interaction.data.options ?? []
  const args = {}
  for (const option of options) {
    switch (option.type) {
      case ApplicationCommandOptionTypes.SubCommandGroup:
      case ApplicationCommandOptionTypes.SubCommand:
        args[option.name] = commandOptionsParser(interaction, option.options)
        break
      case ApplicationCommandOptionTypes.Channel:
        args[option.name] = interaction.data.resolved?.channels?.get(BigInt(option.value))
        break
      case ApplicationCommandOptionTypes.Role:
        args[option.name] = interaction.data.resolved?.roles?.get(BigInt(option.value))
        break
      case ApplicationCommandOptionTypes.User:
        args[option.name] = {
          user: interaction.data.resolved?.users?.get(BigInt(option.value)),
          member: interaction.data.resolved?.members?.get(BigInt(option.value)),
        }
        break
      case ApplicationCommandOptionTypes.Attachment:
        args[option.name] = interaction.data.resolved?.attachments?.get(BigInt(option.value))
        break
      case ApplicationCommandOptionTypes.Mentionable:
        // Mentionable are roles or users
        args[option.name] = interaction.data.resolved?.roles?.get(BigInt(option.value)) ?? {
          user: interaction.data.resolved?.users?.get(BigInt(option.value)),
          member: interaction.data.resolved?.members?.get(BigInt(option.value)),
        }
        break
      default:
        args[option.name] = option.value
    }
  }
  return args
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9jb21tYW5kT3B0aW9uc1BhcnNlci50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBsaWNhdGlvbkNvbW1hbmRPcHRpb25UeXBlcyB9IGZyb20gJ0BkaXNjb3JkZW5vL3R5cGVzJ1xuaW1wb3J0IHR5cGUgeyBDb21wbGV0ZURlc2lyZWRQcm9wZXJ0aWVzLCBEZXNpcmVkUHJvcGVydGllc0JlaGF2aW9yLCBTZXR1cERlc2lyZWRQcm9wcywgVHJhbnNmb3JtZXJzRGVzaXJlZFByb3BlcnRpZXMgfSBmcm9tICcuL2Rlc2lyZWRQcm9wZXJ0aWVzLmpzJ1xuaW1wb3J0IHR5cGUgeyBBdHRhY2htZW50LCBDaGFubmVsLCBJbnRlcmFjdGlvbiwgSW50ZXJhY3Rpb25EYXRhT3B0aW9uLCBNZW1iZXIsIFJvbGUsIFVzZXIgfSBmcm9tICcuL3RyYW5zZm9ybWVycy90eXBlcy5qcydcblxuZXhwb3J0IGZ1bmN0aW9uIGNvbW1hbmRPcHRpb25zUGFyc2VyPFxuICBUUHJvcHMgZXh0ZW5kcyBUcmFuc2Zvcm1lcnNEZXNpcmVkUHJvcGVydGllcyAmIHsgaW50ZXJhY3Rpb246IHsgZGF0YTogdHJ1ZSB9IH0sXG4gIFRCZWhhdmlvciBleHRlbmRzIERlc2lyZWRQcm9wZXJ0aWVzQmVoYXZpb3IsXG4+KF9faW50ZXJhY3Rpb246IFNldHVwRGVzaXJlZFByb3BzPEludGVyYWN0aW9uLCBUUHJvcHMsIFRCZWhhdmlvcj4sIG9wdGlvbnM/OiBJbnRlcmFjdGlvbkRhdGFPcHRpb25bXSk6IFBhcnNlZEludGVyYWN0aW9uT3B0aW9uPFRQcm9wcywgVEJlaGF2aW9yPiB7XG4gIC8vIFRoaXMgaXMgbmVjZXNzYXJ5IGFzIHR5cGVzY3JpcHQgZ2V0cyByZWFsbHkgY29uZnVzZWQgd2hlbiB1c2luZyBfX2ludGVyYWN0aW9uIGFsb25lLCBhcyBpdCB3aWxsIHNheSB0aGF0ICdkYXRhJyBkb2VzIG5vdCBleGlzdCBkZXNwaXRlIGl0IHN1cmVseSBleGlzdCBzaW5jZSB3ZSBoYXZlIHRoZSAmXG4gIGNvbnN0IGludGVyYWN0aW9uID0gX19pbnRlcmFjdGlvbiBhcyBTZXR1cERlc2lyZWRQcm9wczxcbiAgICBJbnRlcmFjdGlvbixcbiAgICBDb21wbGV0ZURlc2lyZWRQcm9wZXJ0aWVzPHsgaW50ZXJhY3Rpb246IHsgZGF0YTogdHJ1ZSB9IH0+LFxuICAgIERlc2lyZWRQcm9wZXJ0aWVzQmVoYXZpb3IuUmVtb3ZlS2V5XG4gID5cblxuICBpZiAoIWludGVyYWN0aW9uLmRhdGEpIHJldHVybiB7fVxuICBpZiAoIW9wdGlvbnMpIG9wdGlvbnMgPSBpbnRlcmFjdGlvbi5kYXRhLm9wdGlvbnMgPz8gW11cblxuICBjb25zdCBhcmdzOiBQYXJzZWRJbnRlcmFjdGlvbk9wdGlvbjxUUHJvcHMsIFRCZWhhdmlvcj4gPSB7fVxuXG4gIGZvciAoY29uc3Qgb3B0aW9uIG9mIG9wdGlvbnMpIHtcbiAgICBzd2l0Y2ggKG9wdGlvbi50eXBlKSB7XG4gICAgICBjYXNlIEFwcGxpY2F0aW9uQ29tbWFuZE9wdGlvblR5cGVzLlN1YkNvbW1hbmRHcm91cDpcbiAgICAgIGNhc2UgQXBwbGljYXRpb25Db21tYW5kT3B0aW9uVHlwZXMuU3ViQ29tbWFuZDpcbiAgICAgICAgYXJnc1tvcHRpb24ubmFtZV0gPSBjb21tYW5kT3B0aW9uc1BhcnNlcihpbnRlcmFjdGlvbiwgb3B0aW9uLm9wdGlvbnMpIGFzIEludGVyYWN0aW9uUmVzb2x2ZWREYXRhPFRQcm9wcywgVEJlaGF2aW9yPlxuICAgICAgICBicmVha1xuICAgICAgY2FzZSBBcHBsaWNhdGlvbkNvbW1hbmRPcHRpb25UeXBlcy5DaGFubmVsOlxuICAgICAgICBhcmdzW29wdGlvbi5uYW1lXSA9IGludGVyYWN0aW9uLmRhdGEucmVzb2x2ZWQ/LmNoYW5uZWxzPy5nZXQoQmlnSW50KG9wdGlvbi52YWx1ZSEpKSBhcyBJbnRlcmFjdGlvblJlc29sdmVkRGF0YTxUUHJvcHMsIFRCZWhhdmlvcj5cbiAgICAgICAgYnJlYWtcbiAgICAgIGNhc2UgQXBwbGljYXRpb25Db21tYW5kT3B0aW9uVHlwZXMuUm9sZTpcbiAgICAgICAgYXJnc1tvcHRpb24ubmFtZV0gPSBpbnRlcmFjdGlvbi5kYXRhLnJlc29sdmVkPy5yb2xlcz8uZ2V0KEJpZ0ludChvcHRpb24udmFsdWUhKSkgYXMgSW50ZXJhY3Rpb25SZXNvbHZlZERhdGE8VFByb3BzLCBUQmVoYXZpb3I+XG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlIEFwcGxpY2F0aW9uQ29tbWFuZE9wdGlvblR5cGVzLlVzZXI6XG4gICAgICAgIGFyZ3Nbb3B0aW9uLm5hbWVdID0ge1xuICAgICAgICAgIHVzZXI6IGludGVyYWN0aW9uLmRhdGEucmVzb2x2ZWQ/LnVzZXJzPy5nZXQoQmlnSW50KG9wdGlvbi52YWx1ZSEpKSBhcyBJbnRlcmFjdGlvblJlc29sdmVkRGF0YTxUUHJvcHMsIFRCZWhhdmlvcj4sXG4gICAgICAgICAgbWVtYmVyOiBpbnRlcmFjdGlvbi5kYXRhLnJlc29sdmVkPy5tZW1iZXJzPy5nZXQoQmlnSW50KG9wdGlvbi52YWx1ZSEpKSBhcyBJbnRlcmFjdGlvblJlc29sdmVkRGF0YTxUUHJvcHMsIFRCZWhhdmlvcj4sXG4gICAgICAgIH1cbiAgICAgICAgYnJlYWtcbiAgICAgIGNhc2UgQXBwbGljYXRpb25Db21tYW5kT3B0aW9uVHlwZXMuQXR0YWNobWVudDpcbiAgICAgICAgYXJnc1tvcHRpb24ubmFtZV0gPSBpbnRlcmFjdGlvbi5kYXRhLnJlc29sdmVkPy5hdHRhY2htZW50cz8uZ2V0KEJpZ0ludChvcHRpb24udmFsdWUhKSkgYXMgSW50ZXJhY3Rpb25SZXNvbHZlZERhdGE8VFByb3BzLCBUQmVoYXZpb3I+XG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlIEFwcGxpY2F0aW9uQ29tbWFuZE9wdGlvblR5cGVzLk1lbnRpb25hYmxlOlxuICAgICAgICAvLyBNZW50aW9uYWJsZSBhcmUgcm9sZXMgb3IgdXNlcnNcbiAgICAgICAgYXJnc1tvcHRpb24ubmFtZV0gPSAoaW50ZXJhY3Rpb24uZGF0YS5yZXNvbHZlZD8ucm9sZXM/LmdldChCaWdJbnQob3B0aW9uLnZhbHVlISkpIGFzIFBhcnNlZEludGVyYWN0aW9uT3B0aW9uPFRQcm9wcywgVEJlaGF2aW9yPltzdHJpbmddKSA/PyB7XG4gICAgICAgICAgdXNlcjogaW50ZXJhY3Rpb24uZGF0YS5yZXNvbHZlZD8udXNlcnM/LmdldChCaWdJbnQob3B0aW9uLnZhbHVlISkpIGFzIEludGVyYWN0aW9uUmVzb2x2ZWREYXRhPFRQcm9wcywgVEJlaGF2aW9yPixcbiAgICAgICAgICBtZW1iZXI6IGludGVyYWN0aW9uLmRhdGEucmVzb2x2ZWQ/Lm1lbWJlcnM/LmdldChCaWdJbnQob3B0aW9uLnZhbHVlISkpIGFzIEludGVyYWN0aW9uUmVzb2x2ZWREYXRhPFRQcm9wcywgVEJlaGF2aW9yPixcbiAgICAgICAgfVxuICAgICAgICBicmVha1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgYXJnc1tvcHRpb24ubmFtZV0gPSBvcHRpb24udmFsdWUgYXMgSW50ZXJhY3Rpb25SZXNvbHZlZERhdGE8VFByb3BzLCBUQmVoYXZpb3I+XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGFyZ3Ncbn1cblxuZXhwb3J0IGludGVyZmFjZSBQYXJzZWRJbnRlcmFjdGlvbk9wdGlvbjxUUHJvcHMgZXh0ZW5kcyBUcmFuc2Zvcm1lcnNEZXNpcmVkUHJvcGVydGllcywgVEJlaGF2aW9yIGV4dGVuZHMgRGVzaXJlZFByb3BlcnRpZXNCZWhhdmlvcj4ge1xuICBba2V5OiBzdHJpbmddOiBJbnRlcmFjdGlvblJlc29sdmVkRGF0YTxUUHJvcHMsIFRCZWhhdmlvcj5cbn1cblxuZXhwb3J0IHR5cGUgSW50ZXJhY3Rpb25SZXNvbHZlZERhdGE8VFByb3BzIGV4dGVuZHMgVHJhbnNmb3JtZXJzRGVzaXJlZFByb3BlcnRpZXMsIFRCZWhhdmlvciBleHRlbmRzIERlc2lyZWRQcm9wZXJ0aWVzQmVoYXZpb3I+ID1cbiAgfCBzdHJpbmdcbiAgfCBudW1iZXJcbiAgfCBib29sZWFuXG4gIHwgSW50ZXJhY3Rpb25SZXNvbHZlZERhdGFVc2VyPFRQcm9wcywgVEJlaGF2aW9yPlxuICB8IEludGVyYWN0aW9uUmVzb2x2ZWREYXRhQ2hhbm5lbDxUUHJvcHMsIFRCZWhhdmlvcj5cbiAgfCBTZXR1cERlc2lyZWRQcm9wczxSb2xlLCBUUHJvcHMsIFRCZWhhdmlvcj5cbiAgfCBTZXR1cERlc2lyZWRQcm9wczxBdHRhY2htZW50LCBUUHJvcHMsIFRCZWhhdmlvcj5cbiAgfCBQYXJzZWRJbnRlcmFjdGlvbk9wdGlvbjxUUHJvcHMsIFRCZWhhdmlvcj5cblxuZXhwb3J0IGludGVyZmFjZSBJbnRlcmFjdGlvblJlc29sdmVkRGF0YVVzZXI8VFByb3BzIGV4dGVuZHMgVHJhbnNmb3JtZXJzRGVzaXJlZFByb3BlcnRpZXMsIFRCZWhhdmlvciBleHRlbmRzIERlc2lyZWRQcm9wZXJ0aWVzQmVoYXZpb3I+IHtcbiAgdXNlcjogU2V0dXBEZXNpcmVkUHJvcHM8VXNlciwgVFByb3BzLCBUQmVoYXZpb3I+XG4gIG1lbWJlcjogSW50ZXJhY3Rpb25SZXNvbHZlZERhdGFNZW1iZXI8VFByb3BzLCBUQmVoYXZpb3I+XG59XG5cbmV4cG9ydCB0eXBlIEludGVyYWN0aW9uUmVzb2x2ZWREYXRhQ2hhbm5lbDxUUHJvcHMgZXh0ZW5kcyBUcmFuc2Zvcm1lcnNEZXNpcmVkUHJvcGVydGllcywgVEJlaGF2aW9yIGV4dGVuZHMgRGVzaXJlZFByb3BlcnRpZXNCZWhhdmlvcj4gPSBQaWNrPFxuICBTZXR1cERlc2lyZWRQcm9wczxDaGFubmVsLCBUUHJvcHMsIFRCZWhhdmlvcj4sXG4gIEV4dHJhY3Q8XG4gICAga2V5b2YgU2V0dXBEZXNpcmVkUHJvcHM8Q2hhbm5lbCwgVFByb3BzLCBUQmVoYXZpb3I+LFxuICAgIHwgJ2lkJ1xuICAgIHwgJ25hbWUnXG4gICAgfCAndHlwZSdcbiAgICB8ICdwZXJtaXNzaW9ucydcbiAgICB8ICdsYXN0TWVzc2FnZUlkJ1xuICAgIHwgJ2xhc3RQaW5UaW1lc3RhbXAnXG4gICAgfCAnbnNmdydcbiAgICB8ICdwYXJlbnRJZCdcbiAgICB8ICdndWlsZElkJ1xuICAgIHwgJ2ZsYWdzJ1xuICAgIHwgJ3JhdGVMaW1pdFBlclVzZXInXG4gICAgfCAndG9waWMnXG4gICAgfCAncG9zaXRpb24nXG4gICAgfCAndGhyZWFkTWV0YWRhdGEnXG4gID5cbj5cblxuZXhwb3J0IHR5cGUgSW50ZXJhY3Rpb25SZXNvbHZlZERhdGFNZW1iZXI8VFByb3BzIGV4dGVuZHMgVHJhbnNmb3JtZXJzRGVzaXJlZFByb3BlcnRpZXMsIFRCZWhhdmlvciBleHRlbmRzIERlc2lyZWRQcm9wZXJ0aWVzQmVoYXZpb3I+ID0gT21pdDxcbiAgU2V0dXBEZXNpcmVkUHJvcHM8TWVtYmVyLCBUUHJvcHMsIFRCZWhhdmlvcj4sXG4gICd1c2VyJyB8ICdkZWFmJyB8ICdtdXRlJ1xuPlxuXG4vKiogQGRlcHJlY2F0ZWQgVXNlIHtAbGluayBJbnRlcmFjdGlvblJlc29sdmVkRGF0YVVzZXJ9ICovXG5leHBvcnQgaW50ZXJmYWNlIEludGVyYWN0aW9uUmVzb2x2ZWRVc2VyIHtcbiAgdXNlcjogVXNlclxuICBtZW1iZXI6IEludGVyYWN0aW9uUmVzb2x2ZWRNZW1iZXJcbn1cblxuLyoqIEBkZXByZWNhdGVkIFVzZSB7QGxpbmsgSW50ZXJhY3Rpb25SZXNvbHZlZERhdGFDaGFubmVsfSAqL1xuZXhwb3J0IHR5cGUgSW50ZXJhY3Rpb25SZXNvbHZlZENoYW5uZWwgPSBQaWNrPFxuICBDaGFubmVsLFxuICB8ICdpZCdcbiAgfCAnbmFtZSdcbiAgfCAndHlwZSdcbiAgfCAncGVybWlzc2lvbnMnXG4gIHwgJ2xhc3RNZXNzYWdlSWQnXG4gIHwgJ2xhc3RQaW5UaW1lc3RhbXAnXG4gIHwgJ25zZncnXG4gIHwgJ3BhcmVudElkJ1xuICB8ICdndWlsZElkJ1xuICB8ICdmbGFncydcbiAgfCAncmF0ZUxpbWl0UGVyVXNlcidcbiAgfCAndG9waWMnXG4gIHwgJ3Bvc2l0aW9uJ1xuICB8ICd0aHJlYWRNZXRhZGF0YSdcbj5cblxuLyoqIEBkZXByZWNhdGVkIFVzZSB7QGxpbmsgSW50ZXJhY3Rpb25SZXNvbHZlZERhdGFNZW1iZXJ9ICovXG5leHBvcnQgdHlwZSBJbnRlcmFjdGlvblJlc29sdmVkTWVtYmVyID0gT21pdDxNZW1iZXIsICd1c2VyJyB8ICdkZWFmJyB8ICdtdXRlJz5cbiJdLCJuYW1lcyI6WyJBcHBsaWNhdGlvbkNvbW1hbmRPcHRpb25UeXBlcyIsImNvbW1hbmRPcHRpb25zUGFyc2VyIiwiX19pbnRlcmFjdGlvbiIsIm9wdGlvbnMiLCJpbnRlcmFjdGlvbiIsImRhdGEiLCJhcmdzIiwib3B0aW9uIiwidHlwZSIsIlN1YkNvbW1hbmRHcm91cCIsIlN1YkNvbW1hbmQiLCJuYW1lIiwiQ2hhbm5lbCIsInJlc29sdmVkIiwiY2hhbm5lbHMiLCJnZXQiLCJCaWdJbnQiLCJ2YWx1ZSIsIlJvbGUiLCJyb2xlcyIsIlVzZXIiLCJ1c2VyIiwidXNlcnMiLCJtZW1iZXIiLCJtZW1iZXJzIiwiQXR0YWNobWVudCIsImF0dGFjaG1lbnRzIiwiTWVudGlvbmFibGUiXSwibWFwcGluZ3MiOiJBQUFBLFNBQVNBLDZCQUE2QixRQUFRLG9CQUFtQjtBQUlqRSxPQUFPLFNBQVNDLHFCQUdkQyxhQUFnRSxFQUFFQyxPQUFpQztJQUNuRyw2S0FBNks7SUFDN0ssTUFBTUMsY0FBY0Y7SUFNcEIsSUFBSSxDQUFDRSxZQUFZQyxJQUFJLEVBQUUsT0FBTyxDQUFDO0lBQy9CLElBQUksQ0FBQ0YsU0FBU0EsVUFBVUMsWUFBWUMsSUFBSSxDQUFDRixPQUFPLElBQUksRUFBRTtJQUV0RCxNQUFNRyxPQUFtRCxDQUFDO0lBRTFELEtBQUssTUFBTUMsVUFBVUosUUFBUztRQUM1QixPQUFRSSxPQUFPQyxJQUFJO1lBQ2pCLEtBQUtSLDhCQUE4QlMsZUFBZTtZQUNsRCxLQUFLVCw4QkFBOEJVLFVBQVU7Z0JBQzNDSixJQUFJLENBQUNDLE9BQU9JLElBQUksQ0FBQyxHQUFHVixxQkFBcUJHLGFBQWFHLE9BQU9KLE9BQU87Z0JBQ3BFO1lBQ0YsS0FBS0gsOEJBQThCWSxPQUFPO2dCQUN4Q04sSUFBSSxDQUFDQyxPQUFPSSxJQUFJLENBQUMsR0FBR1AsWUFBWUMsSUFBSSxDQUFDUSxRQUFRLEVBQUVDLFVBQVVDLElBQUlDLE9BQU9ULE9BQU9VLEtBQUs7Z0JBQ2hGO1lBQ0YsS0FBS2pCLDhCQUE4QmtCLElBQUk7Z0JBQ3JDWixJQUFJLENBQUNDLE9BQU9JLElBQUksQ0FBQyxHQUFHUCxZQUFZQyxJQUFJLENBQUNRLFFBQVEsRUFBRU0sT0FBT0osSUFBSUMsT0FBT1QsT0FBT1UsS0FBSztnQkFDN0U7WUFDRixLQUFLakIsOEJBQThCb0IsSUFBSTtnQkFDckNkLElBQUksQ0FBQ0MsT0FBT0ksSUFBSSxDQUFDLEdBQUc7b0JBQ2xCVSxNQUFNakIsWUFBWUMsSUFBSSxDQUFDUSxRQUFRLEVBQUVTLE9BQU9QLElBQUlDLE9BQU9ULE9BQU9VLEtBQUs7b0JBQy9ETSxRQUFRbkIsWUFBWUMsSUFBSSxDQUFDUSxRQUFRLEVBQUVXLFNBQVNULElBQUlDLE9BQU9ULE9BQU9VLEtBQUs7Z0JBQ3JFO2dCQUNBO1lBQ0YsS0FBS2pCLDhCQUE4QnlCLFVBQVU7Z0JBQzNDbkIsSUFBSSxDQUFDQyxPQUFPSSxJQUFJLENBQUMsR0FBR1AsWUFBWUMsSUFBSSxDQUFDUSxRQUFRLEVBQUVhLGFBQWFYLElBQUlDLE9BQU9ULE9BQU9VLEtBQUs7Z0JBQ25GO1lBQ0YsS0FBS2pCLDhCQUE4QjJCLFdBQVc7Z0JBQzVDLGlDQUFpQztnQkFDakNyQixJQUFJLENBQUNDLE9BQU9JLElBQUksQ0FBQyxHQUFHLEFBQUNQLFlBQVlDLElBQUksQ0FBQ1EsUUFBUSxFQUFFTSxPQUFPSixJQUFJQyxPQUFPVCxPQUFPVSxLQUFLLE1BQThEO29CQUMxSUksTUFBTWpCLFlBQVlDLElBQUksQ0FBQ1EsUUFBUSxFQUFFUyxPQUFPUCxJQUFJQyxPQUFPVCxPQUFPVSxLQUFLO29CQUMvRE0sUUFBUW5CLFlBQVlDLElBQUksQ0FBQ1EsUUFBUSxFQUFFVyxTQUFTVCxJQUFJQyxPQUFPVCxPQUFPVSxLQUFLO2dCQUNyRTtnQkFDQTtZQUNGO2dCQUNFWCxJQUFJLENBQUNDLE9BQU9JLElBQUksQ0FBQyxHQUFHSixPQUFPVSxLQUFLO1FBQ3BDO0lBQ0Y7SUFFQSxPQUFPWDtBQUNUIn0=
