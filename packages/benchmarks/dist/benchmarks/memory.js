import { createBot, snakeToCamelCase } from '@discordeno/bot'
import { events as dbEvents } from '../utils/db.js'
import { memoryBenchmark } from '../utils/memoryBenchmark.js'

await memoryBenchmark(
  '[Cache Plugin]',
  () =>
    createBot({
      token: ' ',
      applicationId: 1n,
      events: {},
      desiredProperties: {},
    }),
  (bot, event) => {
    const eventName = snakeToCamelCase(event.payload.t)
    bot.events[eventName]?.(event.payload.d, {})
  },
  dbEvents.filter((event) => event.payload.t),
)

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9iZW5jaG1hcmtzL21lbW9yeS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjcmVhdGVCb3QsIHNuYWtlVG9DYW1lbENhc2UgfSBmcm9tICdAZGlzY29yZGVuby9ib3QnXG5pbXBvcnQgeyBldmVudHMgYXMgZGJFdmVudHMgfSBmcm9tICcuLi91dGlscy9kYi5qcydcbmltcG9ydCB7IG1lbW9yeUJlbmNobWFyayB9IGZyb20gJy4uL3V0aWxzL21lbW9yeUJlbmNobWFyay5qcydcblxuYXdhaXQgbWVtb3J5QmVuY2htYXJrKFxuICAnW0NhY2hlIFBsdWdpbl0nLFxuICAoKSA9PlxuICAgIGNyZWF0ZUJvdCh7XG4gICAgICB0b2tlbjogJyAnLFxuICAgICAgYXBwbGljYXRpb25JZDogMW4sXG4gICAgICBldmVudHM6IHt9LFxuICAgICAgZGVzaXJlZFByb3BlcnRpZXM6IHt9LFxuICAgIH0pLFxuICAoYm90LCBldmVudCkgPT4ge1xuICAgIGNvbnN0IGV2ZW50TmFtZSA9IHNuYWtlVG9DYW1lbENhc2UoZXZlbnQucGF5bG9hZC50ISlcbiAgICBib3QuZXZlbnRzW2V2ZW50TmFtZSBhcyBrZXlvZiB0eXBlb2YgYm90LmV2ZW50c10/LihldmVudC5wYXlsb2FkLmQgYXMgbmV2ZXIsIHt9IGFzIG5ldmVyKVxuICB9LFxuICBkYkV2ZW50cy5maWx0ZXIoKGV2ZW50KSA9PiBldmVudC5wYXlsb2FkLnQpLFxuKVxuIl0sIm5hbWVzIjpbImNyZWF0ZUJvdCIsInNuYWtlVG9DYW1lbENhc2UiLCJldmVudHMiLCJkYkV2ZW50cyIsIm1lbW9yeUJlbmNobWFyayIsInRva2VuIiwiYXBwbGljYXRpb25JZCIsImRlc2lyZWRQcm9wZXJ0aWVzIiwiYm90IiwiZXZlbnQiLCJldmVudE5hbWUiLCJwYXlsb2FkIiwidCIsImQiLCJmaWx0ZXIiXSwibWFwcGluZ3MiOiJBQUFBLFNBQVNBLFNBQVMsRUFBRUMsZ0JBQWdCLFFBQVEsa0JBQWlCO0FBQzdELFNBQVNDLFVBQVVDLFFBQVEsUUFBUSxpQkFBZ0I7QUFDbkQsU0FBU0MsZUFBZSxRQUFRLDhCQUE2QjtBQUU3RCxNQUFNQSxnQkFDSixrQkFDQSxJQUNFSixVQUFVO1FBQ1JLLE9BQU87UUFDUEMsZUFBZSxFQUFFO1FBQ2pCSixRQUFRLENBQUM7UUFDVEssbUJBQW1CLENBQUM7SUFDdEIsSUFDRixDQUFDQyxLQUFLQztJQUNKLE1BQU1DLFlBQVlULGlCQUFpQlEsTUFBTUUsT0FBTyxDQUFDQyxDQUFDO0lBQ2xESixJQUFJTixNQUFNLENBQUNRLFVBQXFDLEdBQUdELE1BQU1FLE9BQU8sQ0FBQ0UsQ0FBQyxFQUFXLENBQUM7QUFDaEYsR0FDQVYsU0FBU1csTUFBTSxDQUFDLENBQUNMLFFBQVVBLE1BQU1FLE9BQU8sQ0FBQ0MsQ0FBQyJ9
